<?php

namespace App\Console\Commands;

use App\UserDescription;
use Illuminate\Console\Command;

class UpdateAppliedDateFromBackupCommand extends Command
{
    /**
     * The name and signature of the console command.
     *
     * @var string
     */
    protected $signature = 'update:applied_date';

    /**
     * The console command description.
     *
     * @var string
     */
    protected $description = 'Command description';

    /**
     * Execute the console command.
     *
     * @return int
     */
    public function handle()
    {
        $appliedDatesFromBackup = [
            '297' => '2021-10-13 02:41:53',
            '301' => '2021-10-13 02:44:34',
            '306' => '2021-10-13 02:45:40',
            '308' => '2021-10-13 02:46:07',
            '1740' => '2021-10-21 09:51:48',
            '1957' => '2021-10-21 09:51:49',
            '2034' => '2021-10-21 09:51:49',
            '2238' => '2021-10-21 09:51:50',
            '2332' => '2021-10-21 09:51:50',
            '5610' => '2021-12-20 04:38:14',
            '6196' => '2021-11-24 11:35:32',
            '6395' => '2021-12-13 03:21:27',
            '6708' => '2021-12-29 03:17:25',
            '7760' => '2022-01-26 11:45:25',
            '8572' => '2022-02-12 09:31:16',
            '9828' => '2022-03-21 09:18:39',
            '11345' => '2022-05-23 06:08:47',
            '13151' => '2022-06-24 07:27:06',
            '13166' => '2022-07-22 04:09:42',
            '14498' => '2022-07-21 08:39:35',
            '16096' => '2022-09-05 05:13:16',
            '17034' => '2022-09-20 14:20:37',
            '19229' => '2022-12-03 02:43:14',
            '19273' => '2022-12-05 10:36:26',
            '20728' => '2023-01-18 05:17:05',
            '21540' => '2023-01-23 07:36:58',
            '21541' => '2023-01-23 07:38:57',
            '24010' => '2023-04-12 03:57:04',
            '24323' => '2023-05-23 13:41:52',
            '24355' => '2023-05-31 05:06:39',
            '24371' => '2023-06-08 12:00:49',
            '24372' => '2023-06-05 09:27:00',
            '24397' => '2023-06-08 12:01:40',
            '24571' => '2023-06-17 03:49:08',
            '24828' => '2023-07-05 03:53:05',
            '25115' => '2023-07-22 07:40:35',
            '25284' => '2023-08-08 05:20:12',
            '25520' => '2023-10-31 04:28:42',
            '25558' => null,
            '25560' => null,
            '25566' => null,
            '25665' => '2023-11-02 02:39:42',
            '25694' => '2023-09-03 12:50:49',
            '25776' => '2023-09-12 11:06:58',
            '25858' => '2023-09-15 05:16:43',
            '25882' => '2023-09-13 05:30:57',
            '25913' => '2023-11-02 02:41:07',
            '26094' => '2023-09-25 01:39:46',
            '26168' => '2023-10-30 00:00:00',
        ];

        foreach ($appliedDatesFromBackup as $id => $applied) {
            UserDescription::query()->find($id)->update([
                'applied' => $applied
            ]);
        }
        \DB::statement('SET GLOBAL FOREIGN_KEY_CHECKS=1;');
        \DB::statement('SET FOREIGN_KEY_CHECKS=1;');
    }
}
